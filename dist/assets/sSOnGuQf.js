import{j as e,i as f,z as g,m as a,P as w,e as v,T as N,F as y,s as C,g as k,f as A,d as P}from"./DXSTB80B.js";import{u as U,r as d}from"./gFfKhp4p.js";import{l as L,c as T,s as o,g as S,a as $,f as R,A as z,b as E}from"./DUqNDSdr.js";const l={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4}}},O={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}};function M(){const u=U(),[t,r]=d.useState(null),[m,n]=d.useState(!1),[c,x]=d.useState("");d.useEffect(()=>{let s=L();s||(s=T("Joueur"+Math.floor(Math.random()*1e4)),o(s)),r(s),x(s.username)},[]);const h=()=>{if(t&&c.trim()){const s={...t,username:c.trim()};o(s),r(s),n(!1)}},b=s=>{if(t){const i={...t,avatar:s};o(i),r(i)}},j=s=>{if(t){const i={...t,avatarColor:s};o(i),r(i)}};if(!t)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-cyan-500 border-t-transparent rounded-full"})});const p=t.xp/t.xpToNextLevel*100;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl"})]}),e.jsxs("div",{className:"relative z-10 p-4 flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>u(-1),className:"flex items-center gap-2 text-white/70 hover:text-white transition-colors",children:[e.jsx(f,{className:"w-5 h-5"}),e.jsx("span",{children:"Retour"})]}),e.jsx("button",{className:"p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:e.jsx(g,{className:"w-5 h-5 text-white"})})]}),e.jsx("div",{className:"relative z-10 container mx-auto px-4 pb-20",children:e.jsxs(a.div,{initial:"hidden",animate:"visible",variants:O,className:"max-w-2xl mx-auto",children:[e.jsxs(a.div,{variants:l,className:"text-center mb-8",children:[e.jsxs("div",{className:"relative inline-block mb-4",children:[e.jsx("div",{className:`w-28 h-28 rounded-full bg-gradient-to-br ${t.avatarColor} flex items-center justify-center text-4xl font-black text-white shadow-2xl`,children:t.avatar}),e.jsx("div",{className:"absolute -bottom-2 -right-2 w-10 h-10",children:e.jsx("img",{src:S(t.league),alt:t.league,className:"w-full h-full object-contain"})}),e.jsx("button",{onClick:()=>n(!0),className:"absolute -top-1 -right-1 w-8 h-8 bg-cyan-500 rounded-full flex items-center justify-center shadow-lg hover:bg-cyan-400 transition-colors",children:e.jsx(w,{className:"w-4 h-4 text-white"})})]}),m?e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx("input",{type:"text",value:c,onChange:s=>x(s.target.value),className:"bg-white/10 border border-white/20 rounded-lg px-4 py-2 text-white text-center focus:outline-none focus:border-cyan-500",autoFocus:!0}),e.jsx("button",{onClick:h,className:"px-4 py-2 bg-cyan-500 rounded-lg text-white font-medium hover:bg-cyan-400 transition-colors",children:"OK"})]}):e.jsx("h1",{className:"text-3xl font-black text-white mb-1",children:t.username}),e.jsxs("p",{className:"text-cyan-400 font-medium",children:[$(t.league)," League"]})]}),e.jsxs(a.div,{variants:l,className:"bg-white/5 rounded-2xl p-6 border border-white/10 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-white/50 text-sm",children:"Niveau"}),e.jsx("div",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-fuchsia-400",children:t.level})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-white/50 text-sm",children:"XP Total"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:t.totalXp.toLocaleString()})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-white/50 mb-1",children:[e.jsxs("span",{children:[t.xp," XP"]}),e.jsxs("span",{children:[t.xpToNextLevel," XP"]})]}),e.jsx("div",{className:"h-3 bg-white/10 rounded-full overflow-hidden",children:e.jsx(a.div,{initial:{width:0},animate:{width:`${p}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-gradient-to-r from-cyan-500 to-fuchsia-500 rounded-full"})})]}),e.jsxs("p",{className:"text-center text-white/50 text-sm",children:[t.xpToNextLevel-t.xp," XP pour le niveau ",t.level+1]})]}),e.jsxs(a.div,{variants:l,className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[e.jsx(v,{className:"w-6 h-6 text-yellow-400 mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:t.stats.wins}),e.jsx("div",{className:"text-white/50 text-sm",children:"Victoires"})]}),e.jsxs("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[e.jsx(N,{className:"w-6 h-6 text-cyan-400 mb-2"}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.stats.accuracy,"%"]}),e.jsx("div",{className:"text-white/50 text-sm",children:"Précision"})]}),e.jsxs("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[e.jsx(y,{className:"w-6 h-6 text-orange-400 mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:t.stats.bestStreak}),e.jsx("div",{className:"text-white/50 text-sm",children:"Meilleure série"})]}),e.jsxs("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[e.jsx(C,{className:"w-6 h-6 text-purple-400 mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:R(t.stats.totalPlayTime)}),e.jsx("div",{className:"text-white/50 text-sm",children:"Temps de jeu"})]})]}),e.jsxs(a.div,{variants:l,className:"bg-white/5 rounded-2xl p-6 border border-white/10 mb-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(k,{className:"w-5 h-5 text-cyan-400"}),"Statistiques détaillées"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Parties jouées"}),e.jsx("span",{className:"text-white font-medium",children:t.stats.totalGames})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Questions répondues"}),e.jsx("span",{className:"text-white font-medium",children:t.stats.totalQuestions})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Bonnes réponses"}),e.jsx("span",{className:"text-white font-medium",children:t.stats.correctAnswers})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Taux de victoire"}),e.jsxs("span",{className:"text-white font-medium",children:[t.stats.winRate,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Points de ligue"}),e.jsx("span",{className:"text-white font-medium",children:t.leaguePoints})]}),t.stats.favoriteCategory&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Catégorie favorite"}),e.jsx("span",{className:"text-cyan-400 font-medium",children:t.stats.favoriteCategory})]})]})]}),e.jsxs(a.div,{variants:l,className:"bg-white/5 rounded-2xl p-6 border border-white/10 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[e.jsx(A,{className:"w-5 h-5 text-yellow-400"}),"Achievements"]}),e.jsxs("span",{className:"text-white/50 text-sm",children:[t.achievements.filter(s=>s.unlocked).length,"/",t.achievements.length]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-3",children:t.achievements.map(s=>e.jsxs("div",{className:`relative aspect-square rounded-xl flex items-center justify-center ${s.unlocked?"bg-gradient-to-br from-purple-900/50 to-cyan-900/50 border border-purple-500/30":"bg-white/5 border border-white/10 opacity-50"}`,children:[e.jsx("img",{src:s.image,alt:s.name,className:`w-12 h-12 object-contain ${!s.unlocked&&"grayscale"}`}),s.unlocked&&e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},s.id))})]}),e.jsxs(a.div,{variants:l,className:"bg-white/5 rounded-2xl p-6 border border-white/10",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(P,{className:"w-5 h-5 text-yellow-400"}),"Progression Ligue"]}),e.jsx("div",{className:"flex justify-between items-center",children:["bronze","silver","gold","platinum","diamond","legend"].map((s,i)=>e.jsx("div",{className:`flex flex-col items-center ${t.league===s?"scale-110":"opacity-50"}`,children:e.jsx("img",{src:`/images/badges/Badge_${s.charAt(0).toUpperCase()+s.slice(1)==="Silver"?"Argent":s.charAt(0).toUpperCase()+s.slice(1)==="Gold"?"Or":s.charAt(0).toUpperCase()+s.slice(1)==="Legend"?"Legende":s.charAt(0).toUpperCase()+s.slice(1)}.png`,alt:s,className:"w-10 h-10 object-contain"})},s))})]})]})}),m&&e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center p-4",onClick:()=>n(!1),children:e.jsxs(a.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-gradient-to-br from-slate-900 to-purple-900 rounded-2xl p-6 max-w-md w-full border border-white/10",onClick:s=>s.stopPropagation(),children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Personnaliser le profil"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-white/60 text-sm mb-2 block",children:"Pseudo"}),e.jsx("input",{type:"text",value:c,onChange:s=>x(s.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-white/60 text-sm mb-2 block",children:"Avatar"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:z.map(s=>e.jsx("button",{onClick:()=>b(s.id),className:`aspect-square rounded-xl flex items-center justify-center text-lg font-bold transition-all ${t.avatar===s.id?`bg-gradient-to-br ${t.avatarColor} border-2 border-cyan-400`:"bg-white/10 border border-white/10 hover:border-white/30"}`,children:s.id},s.id))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-white/60 text-sm mb-2 block",children:"Couleur"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:E.map(s=>e.jsx("button",{onClick:()=>j(s),className:`aspect-square rounded-xl bg-gradient-to-br ${s} transition-all ${t.avatarColor===s?"ring-2 ring-cyan-400 ring-offset-2 ring-offset-slate-900":"hover:scale-105"}`},s))})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>n(!1),className:"flex-1 py-3 bg-white/10 rounded-xl text-white font-medium hover:bg-white/20 transition-colors",children:"Annuler"}),e.jsx("button",{onClick:h,className:"flex-1 py-3 bg-gradient-to-r from-cyan-500 to-purple-600 rounded-xl text-white font-bold hover:from-cyan-400 hover:to-purple-500 transition-colors",children:"Sauvegarder"})]})]})})]})}export{M as default};
