const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CyeA-LD2.js","assets/BUEqiEl2.js","assets/DZAFYou2.js","assets/CLiJkKHu.js","assets/DZI55N9u.js","assets/BSOBOLhi.js","assets/Cu-aWiZX.js","assets/C3UhgPXU.js","assets/DHtJxeOm.js","assets/C1DVhfFN.js","assets/BBOF1Dfa.js","assets/DQt6EMeD.js","assets/BHww0Ajy.js","assets/DmI0g_NV.js","assets/CNkgPo9T.js","assets/DLdsX0pn.js"])))=>i.map(i=>d[i]);
import{j as e,S as t,G as i,a as n,C as a,F as o,A as r,m as s,b as l,c}from"./BUEqiEl2.js";import{a as d,r as u,B as m,R as p,b as h,c as f}from"./DZAFYou2.js";import{c as g}from"./BBOF1Dfa.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const i of e)if("childList"===i.type)for(const e of i.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var w={},b=d;w.createRoot=b.createRoot,w.hydrateRoot=b.hydrateRoot;const y={},x=function(e,t,i){let n=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),i=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));n=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in y)return;y[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script"),a.crossOrigin="",a.href=e,i&&a.setAttribute("nonce",i),document.head.appendChild(a),t?new Promise((t,i)=>{a.addEventListener("load",t),a.addEventListener("error",()=>i(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return n.then(t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})},_=({children:t})=>e.jsx(e.Fragment,{children:t});u.forwardRef(({children:t,...i},n)=>e.jsx("button",{ref:n,...i,children:t})).displayName="TooltipTrigger";u.forwardRef(({children:t,className:i,...n},a)=>e.jsx("div",{ref:a,className:`z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 ${i}`,...n,children:t})).displayName="TooltipContent";const v=u.createContext({theme:"dark",setTheme:()=>null});function N({children:t,defaultTheme:i="dark",storageKey:n="qquiz-theme",...a}){const[o,r]=u.useState(()=>localStorage.getItem(n)||i);u.useEffect(()=>{const e=window.document.documentElement;if(e.classList.remove("light","dark"),"system"===o){const t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";return void e.classList.add(t)}e.classList.add(o)},[o]);const s={theme:o,setTheme:e=>{localStorage.setItem(n,e),r(e)}};return e.jsx(v.Provider,{...a,value:s,children:t})}const I=g("https://qkiksxuflgbwpqowdmue.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFraWtzeHVmbGdid3Bxb3dkbXVlIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc3MDE4NDEwNiwiZXhwIjoyMDg1NzYwMTA2fQ.s-_G3O4c_Lgu0FkvDZAsJoZ7EWxAi9qevqVvx_wOaIg"),P={async signUp(e,t,i){const{data:n,error:a}=await I.auth.signUp({email:e,password:t,options:{data:{username:i}}});if(a)throw a;return n.user&&await this.createProfile(n.user.id,i),n},async signIn(e,t){const{data:i,error:n}=await I.auth.signInWithPassword({email:e,password:t});if(n)throw n;return i},async signInWithGoogle(){const{data:e,error:t}=await I.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});if(t)throw t;return e},async signOut(){const{error:e}=await I.auth.signOut();if(e)throw e},async getCurrentUser(){const{data:{user:e}}=await I.auth.getUser();return e},async createProfile(e,t){const i=["from-cyan-500 to-blue-600","from-purple-500 to-pink-600","from-green-500 to-emerald-600","from-orange-500 to-red-600"],n=i[Math.floor(Math.random()*i.length)],{error:a}=await I.from("profiles").insert({id:e,username:t,avatar_color:n,xp:0,level:1,league:"bronze",league_points:0,total_games:0,wins:0,losses:0,total_questions:0,correct_answers:0,best_streak:0,total_time_played:0});if(a)throw a},async getProfile(e){const{data:t,error:i}=await I.from("profiles").select("*").eq("id",e).single();return i?null:t},async updateProfile(e,t){const{error:i}=await I.from("profiles").update({...t,updated_at:(new Date).toISOString()}).eq("id",e);if(i)throw i}},T=u.createContext(void 0);function k({children:t}){const[i,n]=u.useState(null),[a,o]=u.useState(null),[r,s]=u.useState(null),[l,c]=u.useState(!0),d=async e=>{try{const t=await P.getProfile(e);o(t)}catch(t){}},m=async()=>{i&&await d(i.id)};u.useEffect(()=>{I.auth.getSession().then(({data:{session:e}})=>{s(e),n((null==e?void 0:e.user)??null),(null==e?void 0:e.user)&&d(e.user.id),c(!1)});const{data:{subscription:e}}=I.auth.onAuthStateChange(async(e,t)=>{s(t),n((null==t?void 0:t.user)??null),(null==t?void 0:t.user)?await d(t.user.id):o(null),c(!1)});return()=>e.unsubscribe()},[]);const p={user:i,profile:a,session:r,loading:l,signUp:async(e,t,i)=>{c(!0);try{await P.signUp(e,t,i)}finally{c(!1)}},signIn:async(e,t)=>{c(!0);try{await P.signIn(e,t)}finally{c(!1)}},signInWithGoogle:async()=>{await P.signInWithGoogle()},signOut:async()=>{await P.signOut(),n(null),o(null),s(null)},updateProfile:async e=>{i&&(await P.updateProfile(i.id,e),await m())},refreshProfile:m};return e.jsx(T.Provider,{value:p,children:t})}function q(){const e=u.useContext(T);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e}const E=[{id:1,title:"Bienvenue sur QQUIZ PRODIGY",subtitle:"Le quiz qui te rend accro",description:"Défie tes amis, grimpe les classements et deviens une légende du quiz !",icon:t,gradient:"from-violet-600 to-fuchsia-600",image:"/images/logo/Logo_Principal_Neon.png"},{id:2,title:"20+ Catégories",subtitle:"RAP, Football, Netflix, Manga...",description:"Des questions sur tous les sujets tendance. Trouve ta spécialité et domine !",icon:i,gradient:"from-cyan-500 to-blue-600",features:["RAP & Hip-Hop","Football Africain","K-POP","Manga & Anime","Netflix & Séries"]},{id:3,title:"Affronte le Monde",subtitle:"Matchmaking en temps réel",description:"Trouve un adversaire en quelques secondes et prouve que tu es le meilleur !",icon:n,gradient:"from-orange-500 to-red-600",features:["Mode Solo","Duel 1v1","Classé","Tournois"]},{id:4,title:"Gagne des Récompenses",subtitle:"XP, Niveaux, Badges",description:"Chaque partie te rapproche du sommet. Débloque des achievements exclusifs !",icon:a,gradient:"from-yellow-500 to-orange-500",features:["Système de niveaux","6 Ligues à gravir","Badges exclusifs","Classement mondial"]},{id:5,title:"Prêt à jouer ?",subtitle:"Ton aventure commence maintenant",description:"Choisis un pseudo et lance-toi dans l'arène !",icon:o,gradient:"from-green-500 to-emerald-600",isLast:!0}];function j({onComplete:t}){const[i,n]=u.useState(0),[a,o]=u.useState(""),[d,m]=u.useState(!1),p=E[i],h=p.icon;return e.jsxs("div",{className:"fixed inset-0 z-50 bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex flex-col",children:[e.jsx("div",{className:"absolute top-4 right-4 z-10",children:e.jsx("button",{onClick:()=>{localStorage.setItem("qquiz_onboarding_complete","true"),t()},className:"text-white/50 hover:text-white text-sm font-medium px-4 py-2 rounded-full bg-white/5 hover:bg-white/10 transition-all",children:"Passer"})}),e.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 flex gap-2 z-10",children:E.map((t,n)=>e.jsx("div",{className:"h-2 rounded-full transition-all duration-300 "+(n===i?"w-8 bg-gradient-to-r from-cyan-400 to-fuchsia-400":n<i?"w-2 bg-white/50":"w-2 bg-white/20")},n))}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-6 pt-16",children:e.jsx(r,{mode:"wait",children:e.jsxs(s.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.4,ease:"easeOut"},className:"max-w-md w-full text-center",children:[e.jsx(s.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"mb-8",children:p.image?e.jsx("img",{src:p.image,alt:"QQUIZ PRODIGY",className:"w-32 h-32 mx-auto object-contain"}):e.jsx("div",{className:`w-24 h-24 mx-auto rounded-3xl bg-gradient-to-br ${p.gradient} flex items-center justify-center shadow-2xl`,children:e.jsx(h,{className:"w-12 h-12 text-white"})})}),e.jsx(s.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-3xl sm:text-4xl font-black text-white mb-2",children:p.title}),e.jsx(s.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:`text-lg font-semibold bg-gradient-to-r ${p.gradient} bg-clip-text text-transparent mb-4`,children:p.subtitle}),e.jsx(s.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-white/60 mb-8 text-base sm:text-lg",children:p.description}),p.features&&e.jsx(s.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},className:"flex flex-wrap justify-center gap-2 mb-8",children:p.features.map((t,i)=>e.jsx("span",{className:"px-4 py-2 bg-white/10 rounded-full text-white/80 text-sm font-medium",children:t},i))}),p.isLast&&e.jsxs(s.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},className:"mb-8",children:[e.jsx("input",{type:"text",value:a,onChange:e=>o(e.target.value),placeholder:"Ton pseudo...",maxLength:20,className:"w-full px-6 py-4 bg-white/10 border border-white/20 rounded-2xl text-white text-center text-lg font-medium placeholder-white/40 focus:outline-none focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400/20 transition-all"}),e.jsx("p",{className:"text-white/40 text-sm mt-2",children:"Minimum 3 caractères"})]})]},i)})}),e.jsxs("div",{className:"p-6 pb-8 flex items-center justify-between",children:[e.jsx("button",{onClick:()=>{d||0===i||(m(!0),n(e=>e-1),setTimeout(()=>m(!1),500))},disabled:0===i,className:"p-4 rounded-full transition-all "+(0===i?"opacity-0 pointer-events-none":"bg-white/10 text-white hover:bg-white/20"),children:e.jsx(l,{className:"w-6 h-6"})}),p.isLast?e.jsx(s.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{a.trim().length>=3&&(localStorage.setItem("qquiz_username",a.trim()),localStorage.setItem("qquiz_onboarding_complete","true"),t())},disabled:a.trim().length<3,className:"px-8 py-4 rounded-2xl font-bold text-lg transition-all "+(a.trim().length>=3?"bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-lg shadow-green-500/50":"bg-white/10 text-white/50 cursor-not-allowed"),children:"C'est parti !"}):e.jsxs(s.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{d||(m(!0),i<E.length-1&&n(e=>e+1),setTimeout(()=>m(!1),500))},className:`px-8 py-4 rounded-2xl bg-gradient-to-r ${p.gradient} text-white font-bold text-lg shadow-lg flex items-center gap-2`,children:["Suivant",e.jsx(c,{className:"w-5 h-5"})]}),e.jsx("div",{className:"w-14"})]})]})}const C=u.lazy(()=>x(()=>import("./CyeA-LD2.js"),__vite__mapDeps([0,1,2,3]))),D=u.lazy(()=>x(()=>import("./DZI55N9u.js"),__vite__mapDeps([4,1,2]))),O=u.lazy(()=>x(()=>import("./BSOBOLhi.js"),__vite__mapDeps([5,1,2]))),A=u.lazy(()=>x(()=>import("./Cu-aWiZX.js"),__vite__mapDeps([6,1,2]))),L=u.lazy(()=>x(()=>import("./C3UhgPXU.js"),__vite__mapDeps([7,1,2,8,9,10]))),z=u.lazy(()=>x(()=>import("./DQt6EMeD.js"),__vite__mapDeps([11,1,2,9]))),R=u.lazy(()=>x(()=>import("./BHww0Ajy.js"),__vite__mapDeps([12,1,2,9]))),S=u.lazy(()=>x(()=>import("./DmI0g_NV.js"),__vite__mapDeps([13,1,2]))),M=u.lazy(()=>x(()=>import("./CNkgPo9T.js"),__vite__mapDeps([14,1,2,3,10]))),V=u.lazy(()=>x(()=>import("./DLdsX0pn.js"),__vite__mapDeps([15,1,2,3,8,10])));function G(){return e.jsx("div",{className:"min-h-screen min-h-[100dvh] bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"w-20 h-20 mx-auto mb-4 relative",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-violet-500/30 animate-ping"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-t-violet-500 border-r-fuchsia-500 border-b-cyan-500 border-l-transparent animate-spin"}),e.jsx("img",{src:"/images/logo/Logo_Principal_Neon.png",alt:"QQUIZ PRODIGY",className:"absolute inset-2 w-16 h-16 object-contain"})]}),e.jsx("p",{className:"text-white/60 text-sm",children:"Chargement..."})]})})}function Z(){const[t,i]=u.useState(!1),[n,a]=u.useState(!0);u.useEffect(()=>{localStorage.getItem("qquiz_onboarding_complete")||i(!0),a(!1)},[]);return n?e.jsx(G,{}):e.jsx(N,{defaultTheme:"dark",children:e.jsx(k,{children:e.jsxs(_,{children:[t&&e.jsx(j,{onComplete:()=>{i(!1)}}),e.jsx(m,{children:e.jsx(u.Suspense,{fallback:e.jsx(G,{}),children:e.jsxs(p,{children:[e.jsx(h,{path:"/",element:e.jsx(C,{})}),e.jsx(h,{path:"/auth",element:e.jsx(M,{})}),e.jsx(h,{path:"/feed",element:e.jsx(V,{})}),e.jsx(h,{path:"/chat",element:e.jsx(D,{})}),e.jsx(h,{path:"/friends",element:e.jsx(O,{})}),e.jsx(h,{path:"/duel",element:e.jsx(A,{})}),e.jsx(h,{path:"/play",element:e.jsx(L,{})}),e.jsx(h,{path:"/quiz",element:e.jsx(L,{})}),e.jsx(h,{path:"/game-mode",element:e.jsx(S,{})}),e.jsx(h,{path:"/leaderboard",element:e.jsx(z,{})}),e.jsx(h,{path:"/profile",element:e.jsx(R,{})})]})})})]})})})}(()=>{"undefined"!=typeof window&&(document.addEventListener("contextmenu",e=>(e.preventDefault(),!1)),document.addEventListener("keydown",e=>{if("F12"===e.key||e.ctrlKey&&e.shiftKey&&("I"===e.key||"i"===e.key)||e.ctrlKey&&e.shiftKey&&("J"===e.key||"j"===e.key)||e.ctrlKey&&("U"===e.key||"u"===e.key))return e.preventDefault(),!1}),document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",document.addEventListener("dragstart",e=>{if("IMG"===e.target.tagName)return e.preventDefault(),!1}),setInterval(()=>{window.outerWidth,window.innerWidth,window.outerHeight,window.innerHeight},1e3),(()=>{const e=document.createElement("div");e.style.display="none",e.innerHTML='<a href="/trap">Click here</a>',e.className="qqp-trap",document.body.appendChild(e)})())})(),w.createRoot(document.getElementById("root")).render(e.jsx(f.StrictMode,{children:e.jsx(Z,{})}));export{I as s,q as u};
