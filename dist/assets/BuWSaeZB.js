const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DyJU26h2.js","assets/B678M3Go.js","assets/gFfKhp4p.js","assets/BLx6kmy3.js","assets/DqliOerU.js","assets/BRr2CNxQ.js","assets/u2JPzp_B.js","assets/IkmG-J11.js","assets/CQK7t8lQ.js","assets/DHgiGZ_2.js","assets/DUqNDSdr.js","assets/BaErfhTr.js","assets/BMvTDi95.js","assets/BSEc5N8N.js","assets/DvFVjE11.js","assets/DgBVpo7s.js","assets/CQh6hBZ_.js"])))=>i.map(i=>d[i]);
import{j as e,S as k,G as z,a as D,C as B,F as G,A as M,m as w,b as U,c as V}from"./B678M3Go.js";import{a as F,r,B as W,R as Z,b as m,c as $}from"./gFfKhp4p.js";import{c as J}from"./DqliOerU.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const g of s)if(g.type==="childList")for(const c of g.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const g={};return s.integrity&&(g.integrity=s.integrity),s.referrerPolicy&&(g.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?g.credentials="include":s.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function l(s){if(s.ep)return;s.ep=!0;const g=n(s);fetch(s.href,g)}})();var N={},S=F;N.createRoot=S.createRoot,N.hydrateRoot=S.hydrateRoot;const Q="modulepreload",H=function(a){return"/"+a},E={},h=function(i,n,l){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),o=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=H(u),u in E)return;E[u]=!0;const x=u.endsWith(".css"),v=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const p=document.createElement("link");if(p.rel=x?"stylesheet":Q,x||(p.as="script"),p.crossOrigin="",p.href=u,o&&p.setAttribute("nonce",o),document.head.appendChild(p),x)return new Promise((P,f)=>{p.addEventListener("load",P),p.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${u}`)))})}))}function g(c){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=c,window.dispatchEvent(o),!o.defaultPrevented)throw c}return s.then(c=>{for(const o of c||[])o.status==="rejected"&&g(o.reason);return i().catch(g)})},Y=({children:a})=>e.jsx(e.Fragment,{children:a}),X=r.forwardRef(({children:a,...i},n)=>e.jsx("button",{ref:n,...i,children:a}));X.displayName="TooltipTrigger";const K=r.forwardRef(({children:a,className:i,...n},l)=>e.jsx("div",{ref:l,className:`z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 ${i}`,...n,children:a}));K.displayName="TooltipContent";const ee={theme:"dark",setTheme:()=>null},te=r.createContext(ee);function ae({children:a,defaultTheme:i="dark",storageKey:n="qquiz-theme",...l}){const[s,g]=r.useState(()=>localStorage.getItem(n)||i);r.useEffect(()=>{const o=window.document.documentElement;if(o.classList.remove("light","dark"),s==="system"){const u=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";o.classList.add(u);return}o.classList.add(s)},[s]);const c={theme:s,setTheme:o=>{localStorage.setItem(n,o),g(o)}};return e.jsx(te.Provider,{...l,value:c,children:a})}const ie="https://qkiksxuflgbwpqowdmue.supabase.co",se="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFraWtzeHVmbGdid3Bxb3dkbXVlIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc3MDE4NDEwNiwiZXhwIjoyMDg1NzYwMTA2fQ.s-_G3O4c_Lgu0FkvDZAsJoZ7EWxAi9qevqVvx_wOaIg",_=J(ie,se),C={async signUp(a,i,n){const{data:l,error:s}=await _.auth.signUp({email:a,password:i,options:{data:{username:n}}});if(s)throw s;return l.user&&await this.createProfile(l.user.id,n),l},async signIn(a,i){const{data:n,error:l}=await _.auth.signInWithPassword({email:a,password:i});if(l)throw l;return n},async signInWithGoogle(){const{data:a,error:i}=await _.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});if(i)throw i;return a},async signOut(){const{error:a}=await _.auth.signOut();if(a)throw a},async getCurrentUser(){const{data:{user:a}}=await _.auth.getUser();return a},async createProfile(a,i){const n=["from-cyan-500 to-blue-600","from-purple-500 to-pink-600","from-green-500 to-emerald-600","from-orange-500 to-red-600"],l=n[Math.floor(Math.random()*n.length)],{error:s}=await _.from("profiles").insert({id:a,username:i,avatar_color:l,xp:0,level:1,league:"bronze",league_points:0,total_games:0,wins:0,losses:0,total_questions:0,correct_answers:0,best_streak:0,total_time_played:0});if(s)throw s},async getProfile(a){const{data:i,error:n}=await _.from("profiles").select("*").eq("id",a).single();return n?null:i},async updateProfile(a,i){const{error:n}=await _.from("profiles").update({...i,updated_at:new Date().toISOString()}).eq("id",a);if(n)throw n}},O=r.createContext(void 0);function ne({children:a}){const[i,n]=r.useState(null),[l,s]=r.useState(null),[g,c]=r.useState(null),[o,u]=r.useState(!0),x=async y=>{try{const d=await C.getProfile(y);s(d)}catch(d){console.error("Erreur chargement profil:",d)}},v=async()=>{i&&await x(i.id)};r.useEffect(()=>{_.auth.getSession().then(({data:{session:d}})=>{c(d),n((d==null?void 0:d.user)??null),d!=null&&d.user&&x(d.user.id),u(!1)});const{data:{subscription:y}}=_.auth.onAuthStateChange(async(d,b)=>{c(b),n((b==null?void 0:b.user)??null),b!=null&&b.user?await x(b.user.id):s(null),u(!1)});return()=>y.unsubscribe()},[]);const R={user:i,profile:l,session:g,loading:o,signUp:async(y,d,b)=>{u(!0);try{await C.signUp(y,d,b)}finally{u(!1)}},signIn:async(y,d)=>{u(!0);try{await C.signIn(y,d)}finally{u(!1)}},signInWithGoogle:async()=>{await C.signInWithGoogle()},signOut:async()=>{await C.signOut(),n(null),s(null),c(null)},updateProfile:async y=>{i&&(await C.updateProfile(i.id,y),await v())},refreshProfile:v};return e.jsx(O.Provider,{value:R,children:a})}function ve(){const a=r.useContext(O);if(a===void 0)throw new Error("useAuth must be used within an AuthProvider");return a}const I=[{id:1,title:"Bienvenue sur QQUIZ PRODIGY",subtitle:"Le quiz qui te rend accro",description:"Défie tes amis, grimpe les classements et deviens une légende du quiz !",icon:k,gradient:"from-violet-600 to-fuchsia-600",image:"/images/logo/Logo_Principal_Neon.png"},{id:2,title:"20+ Catégories",subtitle:"RAP, Football, Netflix, Manga...",description:"Des questions sur tous les sujets tendance. Trouve ta spécialité et domine !",icon:z,gradient:"from-cyan-500 to-blue-600",features:["RAP & Hip-Hop","Football Africain","K-POP","Manga & Anime","Netflix & Séries"]},{id:3,title:"Affronte le Monde",subtitle:"Matchmaking en temps réel",description:"Trouve un adversaire en quelques secondes et prouve que tu es le meilleur !",icon:D,gradient:"from-orange-500 to-red-600",features:["Mode Solo","Duel 1v1","Classé","Tournois"]},{id:4,title:"Gagne des Récompenses",subtitle:"XP, Niveaux, Badges",description:"Chaque partie te rapproche du sommet. Débloque des achievements exclusifs !",icon:B,gradient:"from-yellow-500 to-orange-500",features:["Système de niveaux","6 Ligues à gravir","Badges exclusifs","Classement mondial"]},{id:5,title:"Prêt à jouer ?",subtitle:"Ton aventure commence maintenant",description:"Choisis un pseudo et lance-toi dans l'arène !",icon:G,gradient:"from-green-500 to-emerald-600",isLast:!0}];function oe({onComplete:a}){const[i,n]=r.useState(0),[l,s]=r.useState(""),[g,c]=r.useState(!1),o=I[i],u=o.icon,x=()=>{g||(c(!0),i<I.length-1&&n(f=>f+1),setTimeout(()=>c(!1),500))},v=()=>{g||i===0||(c(!0),n(f=>f-1),setTimeout(()=>c(!1),500))},p=()=>{l.trim().length>=3&&(localStorage.setItem("qquiz_username",l.trim()),localStorage.setItem("qquiz_onboarding_complete","true"),a())},P=()=>{localStorage.setItem("qquiz_onboarding_complete","true"),a()};return e.jsxs("div",{className:"fixed inset-0 z-50 bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex flex-col",children:[e.jsx("div",{className:"absolute top-4 right-4 z-10",children:e.jsx("button",{onClick:P,className:"text-white/50 hover:text-white text-sm font-medium px-4 py-2 rounded-full bg-white/5 hover:bg-white/10 transition-all",children:"Passer"})}),e.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 flex gap-2 z-10",children:I.map((f,j)=>e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${j===i?"w-8 bg-gradient-to-r from-cyan-400 to-fuchsia-400":j<i?"w-2 bg-white/50":"w-2 bg-white/20"}`},j))}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-6 pt-16",children:e.jsx(M,{mode:"wait",children:e.jsxs(w.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.4,ease:"easeOut"},className:"max-w-md w-full text-center",children:[e.jsx(w.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"mb-8",children:o.image?e.jsx("img",{src:o.image,alt:"QQUIZ PRODIGY",className:"w-32 h-32 mx-auto object-contain"}):e.jsx("div",{className:`w-24 h-24 mx-auto rounded-3xl bg-gradient-to-br ${o.gradient} flex items-center justify-center shadow-2xl`,children:e.jsx(u,{className:"w-12 h-12 text-white"})})}),e.jsx(w.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-3xl sm:text-4xl font-black text-white mb-2",children:o.title}),e.jsx(w.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:`text-lg font-semibold bg-gradient-to-r ${o.gradient} bg-clip-text text-transparent mb-4`,children:o.subtitle}),e.jsx(w.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-white/60 mb-8 text-base sm:text-lg",children:o.description}),o.features&&e.jsx(w.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},className:"flex flex-wrap justify-center gap-2 mb-8",children:o.features.map((f,j)=>e.jsx("span",{className:"px-4 py-2 bg-white/10 rounded-full text-white/80 text-sm font-medium",children:f},j))}),o.isLast&&e.jsxs(w.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},className:"mb-8",children:[e.jsx("input",{type:"text",value:l,onChange:f=>s(f.target.value),placeholder:"Ton pseudo...",maxLength:20,className:"w-full px-6 py-4 bg-white/10 border border-white/20 rounded-2xl text-white text-center text-lg font-medium placeholder-white/40 focus:outline-none focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400/20 transition-all"}),e.jsx("p",{className:"text-white/40 text-sm mt-2",children:"Minimum 3 caractères"})]})]},i)})}),e.jsxs("div",{className:"p-6 pb-8 flex items-center justify-between",children:[e.jsx("button",{onClick:v,disabled:i===0,className:`p-4 rounded-full transition-all ${i===0?"opacity-0 pointer-events-none":"bg-white/10 text-white hover:bg-white/20"}`,children:e.jsx(U,{className:"w-6 h-6"})}),o.isLast?e.jsx(w.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:p,disabled:l.trim().length<3,className:`px-8 py-4 rounded-2xl font-bold text-lg transition-all ${l.trim().length>=3?"bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-lg shadow-green-500/50":"bg-white/10 text-white/50 cursor-not-allowed"}`,children:"C'est parti !"}):e.jsxs(w.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:x,className:`px-8 py-4 rounded-2xl bg-gradient-to-r ${o.gradient} text-white font-bold text-lg shadow-lg flex items-center gap-2`,children:["Suivant",e.jsx(V,{className:"w-5 h-5"})]}),e.jsx("div",{className:"w-14"})]})]})}const q="/";function t(a){if(a.startsWith("http://")||a.startsWith("https://"))return a;const i=a.startsWith("/")?a.slice(1):a;return(q.endsWith("/")?q:q+"/")+i}t("/images/logo/Icone_App_Dark.png"),t("/images/logo/Logo_Principal_Neon.png"),t("/images/badges/Badge_Bronze.png"),t("/images/badges/Badge_Argent.png"),t("/images/badges/Badge_Or.png"),t("/images/badges/Badge_Platine.png"),t("/images/badges/Badge_Diamant.png"),t("/images/badges/Badge_Legende.png"),t("/images/categories/Cat_Rap.png"),t("/images/categories/Cat_TikTok.png"),t("/images/categories/Cat_Kpop.png"),t("/images/categories/Cat_FootballAfricain.png"),t("/images/categories/Cat_GamingPro.png"),t("/images/categories/Cat_Youtube.png"),t("/images/categories/Cat_Mode.png"),t("/images/categories/Cat_Afrique.png"),t("/images/categories/Cat_Afrobeats.png"),t("/images/categories/Cat_NBA.png"),t("/images/categories/Cat_Manga.png"),t("/images/categories/Cat_Marvel.png"),t("/images/categories/Cat_Netflix.png"),t("/images/categories/Cat_Celebrites.png"),t("/images/categories/Cat_Crypto.png"),t("/images/categories/Cat_Sport.png"),t("/images/categories/Cat_Science.png"),t("/images/categories/Cat_Culture.png"),t("/images/categories/Cat_Tech.png"),t("/images/categories/Cat_Cinema.png"),t("/images/categories/Cat_Musique.png"),t("/images/categories/Cat_Geographie.png"),t("/images/categories/Cat_Histoire.png"),t("/images/categories/Cat_Football.png"),t("/images/categories/Cat_Jeux_Video.png"),t("/images/questions/bg_rap.png"),t("/images/questions/bg_football.png"),t("/images/questions/bg_manga.png"),t("/images/questions/bg_netflix.png"),t("/images/questions/bg_crypto.png"),t("/images/questions/bg_kpop.png"),t("/images/questions/bg_afrobeats.png"),t("/images/questions/bg_nba.png"),t("/images/questions/bg_marvel.png"),t("/images/questions/bg_gaming.png"),t("/images/questions/bg_tiktok.png"),t("/images/questions/bg_afrique.png"),t("/images/questions/bg_youtube.png"),t("/images/questions/bg_mode.png"),t("/images/questions/bg_celebrites.png");const re=r.lazy(()=>h(()=>import("./DyJU26h2.js"),__vite__mapDeps([0,1,2,3,4]))),le=r.lazy(()=>h(()=>import("./BRr2CNxQ.js"),__vite__mapDeps([5,1,2]))),ce=r.lazy(()=>h(()=>import("./u2JPzp_B.js"),__vite__mapDeps([6,1,2]))),ge=r.lazy(()=>h(()=>import("./IkmG-J11.js"),__vite__mapDeps([7,1,2]))),A=r.lazy(()=>h(()=>import("./CQK7t8lQ.js"),__vite__mapDeps([8,1,2,9,10,4]))),ue=r.lazy(()=>h(()=>import("./BaErfhTr.js"),__vite__mapDeps([11,1,2,10]))),de=r.lazy(()=>h(()=>import("./BMvTDi95.js"),__vite__mapDeps([12,1,2,10]))),me=r.lazy(()=>h(()=>import("./BSEc5N8N.js"),__vite__mapDeps([13,1,2]))),pe=r.lazy(()=>h(()=>import("./DvFVjE11.js"),__vite__mapDeps([14,1,2,3,4]))),fe=r.lazy(()=>h(()=>import("./DgBVpo7s.js"),__vite__mapDeps([15,1,2,3,9,4]))),he=r.lazy(()=>h(()=>import("./CQh6hBZ_.js"),__vite__mapDeps([16,1,2,4])));function T(){return e.jsx("div",{className:"min-h-screen min-h-[100dvh] bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"w-20 h-20 mx-auto mb-4 relative",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-violet-500/30 animate-ping"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-t-violet-500 border-r-fuchsia-500 border-b-cyan-500 border-l-transparent animate-spin"}),e.jsx("img",{src:t("/images/logo/Logo_Principal_Neon.png"),alt:"QQUIZ PRODIGY",className:"absolute inset-2 w-16 h-16 object-contain"})]}),e.jsx("p",{className:"text-white/60 text-sm",children:"Chargement..."})]})})}function xe(){const[a,i]=r.useState(!1),[n,l]=r.useState(!0);r.useEffect(()=>{localStorage.getItem("qquiz_onboarding_complete")||i(!0),l(!1)},[]);const s=()=>{i(!1)};return n?e.jsx(T,{}):e.jsx(ae,{defaultTheme:"dark",children:e.jsx(ne,{children:e.jsxs(Y,{children:[a&&e.jsx(oe,{onComplete:s}),e.jsx(W,{children:e.jsx(r.Suspense,{fallback:e.jsx(T,{}),children:e.jsxs(Z,{children:[e.jsx(m,{path:"/",element:e.jsx(re,{})}),e.jsx(m,{path:"/auth",element:e.jsx(pe,{})}),e.jsx(m,{path:"/feed",element:e.jsx(fe,{})}),e.jsx(m,{path:"/chat",element:e.jsx(le,{})}),e.jsx(m,{path:"/friends",element:e.jsx(ce,{})}),e.jsx(m,{path:"/duel",element:e.jsx(ge,{})}),e.jsx(m,{path:"/play",element:e.jsx(A,{})}),e.jsx(m,{path:"/quiz",element:e.jsx(A,{})}),e.jsx(m,{path:"/game-mode",element:e.jsx(me,{})}),e.jsx(m,{path:"/leaderboard",element:e.jsx(ue,{})}),e.jsx(m,{path:"/profile",element:e.jsx(de,{})}),e.jsx(m,{path:"/settings",element:e.jsx(he,{})})]})})})]})})})}const L=document.getElementById("root");L?N.createRoot(L).render(e.jsx($.StrictMode,{children:e.jsx(xe,{})})):console.error("Root element not found");export{t as g,_ as s,ve as u};
