import{j as e,e as k,s as S}from"./DXSTB80B.js";import{r as a}from"./gFfKhp4p.js";function Q(){const[r,h]=a.useState("waiting"),[i,w]=a.useState(0),[l,p]=a.useState(15),[x,b]=a.useState(null),[c,g]=a.useState(3),[d,N]=a.useState([{id:"player1",username:"Toi",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=You",level:25,score:0,correctAnswers:0,isReady:!0},{id:"player2",username:"ProGamer243",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=ProGamer243",level:45,score:0,correctAnswers:0,isReady:!0}]),m=[{id:"1",question:"Quelle est la capitale de la RDC ?",options:["Brazzaville","Kinshasa","Lubumbashi","Goma"],correctAnswer:1,timeLimit:15},{id:"2",question:"En quelle année le Congo a-t-il obtenu son indépendance ?",options:["1958","1960","1962","1965"],correctAnswer:1,timeLimit:15},{id:"3",question:"Quel est le plus long fleuve d'Afrique ?",options:["Le Congo","Le Niger","Le Nil","Le Zambèze"],correctAnswer:2,timeLimit:15}],o=m[i];a.useEffect(()=>{if(r==="countdown"&&c>0){const t=setTimeout(()=>g(c-1),1e3);return()=>clearTimeout(t)}else r==="countdown"&&c===0&&(h("playing"),p(o.timeLimit))},[r,c,o]),a.useEffect(()=>{if(r==="playing"&&l>0){const t=setTimeout(()=>p(l-1),1e3);return()=>clearTimeout(t)}else r==="playing"&&l===0&&j()},[r,l]);const y=()=>{h("countdown"),g(3)},A=t=>{x===null&&(b(t),setTimeout(()=>{const s=t===o.correctAnswer,u=s?l*10:0;N(d.map((n,f)=>{if(f===0)return{...n,score:n.score+u,correctAnswers:n.correctAnswers+(s?1:0)};{const v=Math.random()>.3,L=v?(l-2)*10:0;return{...n,score:n.score+L,correctAnswers:n.correctAnswers+(v?1:0)}}})),setTimeout(j,2e3)},500))},j=()=>{i<m.length-1?(w(i+1),p(m[i+1].timeLimit),b(null)):h("finished")},C=()=>{const[t,s]=d;return t.score>s.score?t:s.score>t.score?s:null};if(r==="waiting")return e.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-gradient-to-br from-gray-900 via-purple-900/20 to-gray-900 p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Duel 1v1"}),e.jsx("p",{className:"text-gray-400",children:"Affronte ton adversaire en temps réel !"})]}),e.jsx("div",{className:"flex gap-8 mb-12",children:d.map(t=>e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:t.avatar,alt:t.username,className:"w-32 h-32 rounded-full border-4 border-purple-500 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white",children:t.username}),e.jsxs("p",{className:"text-purple-400",children:["Niveau ",t.level]}),t.isReady&&e.jsx("div",{className:"mt-2 text-green-400 font-semibold",children:"✓ Prêt"})]},t.id))}),e.jsx("button",{onClick:y,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold text-xl px-12 py-4 rounded-xl transition-all transform hover:scale-105",children:"Commencer le Duel !"})]});if(r==="countdown")return e.jsx("div",{className:"flex items-center justify-center h-full bg-gradient-to-br from-gray-900 via-purple-900/20 to-gray-900",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-9xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400 animate-pulse",children:c}),e.jsx("p",{className:"text-2xl text-white mt-4",children:"Prépare-toi..."})]})});if(r==="finished"){const t=C();return e.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-gradient-to-br from-gray-900 via-purple-900/20 to-gray-900 p-8",children:[e.jsx(k,{className:"w-24 h-24 text-yellow-400 mb-6 animate-bounce"}),e.jsx("h1",{className:"text-4xl font-bold text-white mb-8",children:t?`${t.username} gagne !`:"Match Nul !"}),e.jsx("div",{className:"grid grid-cols-2 gap-8 w-full max-w-2xl mb-8",children:d.map((s,u)=>e.jsxs("div",{className:`bg-gray-800/50 backdrop-blur-lg rounded-xl p-6 border-2 ${(t==null?void 0:t.id)===s.id?"border-yellow-400":"border-purple-500/20"}`,children:[e.jsx("img",{src:s.avatar,alt:s.username,className:"w-20 h-20 rounded-full border-2 border-purple-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white text-center mb-4",children:s.username}),e.jsxs("div",{className:"space-y-2 text-center",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Score:"}),e.jsx("span",{className:"text-2xl font-bold text-purple-400",children:s.score})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Bonnes réponses:"}),e.jsxs("span",{className:"text-xl font-bold text-green-400",children:[s.correctAnswers,"/",m.length]})]})]})]},s.id))}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold text-xl px-12 py-4 rounded-xl transition-all",children:"Rejouer"})]})}return e.jsxs("div",{className:"flex flex-col h-full bg-gradient-to-br from-gray-900 via-purple-900/20 to-gray-900",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-lg border-b border-purple-500/20 p-4",children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:d.map(t=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:t.avatar,alt:t.username,className:"w-12 h-12 rounded-full border-2 border-purple-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white",children:t.username}),e.jsx("p",{className:"text-2xl font-bold text-purple-400",children:t.score})]})]},t.id))}),e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx(S,{className:"w-5 h-5 text-purple-400"}),e.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 h-full transition-all duration-1000",style:{width:`${l/o.timeLimit*100}%`}})}),e.jsxs("span",{className:"text-xl font-bold text-white w-12 text-center",children:[l,"s"]})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col justify-center p-8",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsxs("div",{className:"text-sm text-purple-400 mb-2",children:["Question ",i+1," / ",m.length]}),e.jsx("h2",{className:"text-3xl font-bold text-white",children:o.question})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-4xl mx-auto w-full",children:o.options.map((t,s)=>{const u=x===s,n=s===o.correctAnswer,f=x!==null;return e.jsx("button",{onClick:()=>A(s),disabled:x!==null,className:`p-6 rounded-xl font-semibold text-lg transition-all transform hover:scale-105 disabled:cursor-not-allowed ${f?n?"bg-green-600 text-white border-2 border-green-400":u?"bg-red-600 text-white border-2 border-red-400":"bg-gray-700 text-gray-400":"bg-gray-800 text-white hover:bg-gray-700 border-2 border-purple-500/20 hover:border-purple-500"}`,children:t},s)})})]})]})}export{Q as default};
