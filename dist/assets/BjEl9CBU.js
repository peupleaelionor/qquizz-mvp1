const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BJpOit2h.js","assets/BDMYgCF_.js","assets/DZAFYou2.js","assets/N36WR-16.js","assets/BBOF1Dfa.js","assets/dob00_c7.js","assets/CUSgKbuL.js","assets/BTfhnbt7.js","assets/apEAj9cI.js","assets/C9nS5El1.js","assets/C1DVhfFN.js","assets/DrSycPVb.js","assets/BvKnKUM3.js","assets/EU5ztAl5.js","assets/CzRa-jnO.js","assets/DDF_2Nu7.js","assets/DjzctiWQ.js"])))=>i.map(i=>d[i]);
import{j as e,S as t,G as a,a as i,C as n,F as s,A as o,m as r,b as l,c}from"./BDMYgCF_.js";import{a as g,r as d,B as m,R as u,b as p,c as h}from"./DZAFYou2.js";import{c as f}from"./BBOF1Dfa.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var _={},b=g;_.createRoot=b.createRoot,_.hydrateRoot=b.hydrateRoot;const w={},y=function(e,t,a){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),a=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));i=Promise.allSettled(t.map(e=>{if((e=function(e){return"/qquizz-mvp1/"+e}(e))in w)return;w[e]=!0;const t=e.endsWith(".css"),i=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${i}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script"),n.crossOrigin="",n.href=e,a&&n.setAttribute("nonce",a),document.head.appendChild(n),t?new Promise((t,a)=>{n.addEventListener("load",t),n.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function n(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return i.then(t=>{for(const e of t||[])"rejected"===e.status&&n(e.reason);return e().catch(n)})},x=({children:t})=>e.jsx(e.Fragment,{children:t});d.forwardRef(({children:t,...a},i)=>e.jsx("button",{ref:i,...a,children:t})).displayName="TooltipTrigger";d.forwardRef(({children:t,className:a,...i},n)=>e.jsx("div",{ref:n,className:`z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 ${a}`,...i,children:t})).displayName="TooltipContent";const v=d.createContext({theme:"dark",setTheme:()=>null});function C({children:t,defaultTheme:a="dark",storageKey:i="qquiz-theme",...n}){const[s,o]=d.useState(()=>localStorage.getItem(i)||a);d.useEffect(()=>{const e=window.document.documentElement;if(e.classList.remove("light","dark"),"system"===s){const t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";return void e.classList.add(t)}e.classList.add(s)},[s]);const r={theme:s,setTheme:e=>{localStorage.setItem(i,e),o(e)}};return e.jsx(v.Provider,{...n,value:r,children:t})}const N=f("https://qkiksxuflgbwpqowdmue.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFraWtzeHVmbGdid3Bxb3dkbXVlIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc3MDE4NDEwNiwiZXhwIjoyMDg1NzYwMTA2fQ.s-_G3O4c_Lgu0FkvDZAsJoZ7EWxAi9qevqVvx_wOaIg"),q={async signUp(e,t,a){const{data:i,error:n}=await N.auth.signUp({email:e,password:t,options:{data:{username:a}}});if(n)throw n;return i.user&&await this.createProfile(i.user.id,a),i},async signIn(e,t){const{data:a,error:i}=await N.auth.signInWithPassword({email:e,password:t});if(i)throw i;return a},async signInWithGoogle(){const{data:e,error:t}=await N.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});if(t)throw t;return e},async signOut(){const{error:e}=await N.auth.signOut();if(e)throw e},async getCurrentUser(){const{data:{user:e}}=await N.auth.getUser();return e},async createProfile(e,t){const a=["from-cyan-500 to-blue-600","from-purple-500 to-pink-600","from-green-500 to-emerald-600","from-orange-500 to-red-600"],i=a[Math.floor(Math.random()*a.length)],{error:n}=await N.from("profiles").insert({id:e,username:t,avatar_color:i,xp:0,level:1,league:"bronze",league_points:0,total_games:0,wins:0,losses:0,total_questions:0,correct_answers:0,best_streak:0,total_time_played:0});if(n)throw n},async getProfile(e){const{data:t,error:a}=await N.from("profiles").select("*").eq("id",e).single();return a?null:t},async updateProfile(e,t){const{error:a}=await N.from("profiles").update({...t,updated_at:(new Date).toISOString()}).eq("id",e);if(a)throw a}},I=d.createContext(void 0);function P({children:t}){const[a,i]=d.useState(null),[n,s]=d.useState(null),[o,r]=d.useState(null),[l,c]=d.useState(!0),g=async e=>{try{const t=await q.getProfile(e);s(t)}catch(t){}},m=async()=>{a&&await g(a.id)};d.useEffect(()=>{N.auth.getSession().then(({data:{session:e}})=>{r(e),i((null==e?void 0:e.user)??null),(null==e?void 0:e.user)&&g(e.user.id),c(!1)});const{data:{subscription:e}}=N.auth.onAuthStateChange(async(e,t)=>{r(t),i((null==t?void 0:t.user)??null),(null==t?void 0:t.user)?await g(t.user.id):s(null),c(!1)});return()=>e.unsubscribe()},[]);const u={user:a,profile:n,session:o,loading:l,signUp:async(e,t,a)=>{c(!0);try{await q.signUp(e,t,a)}finally{c(!1)}},signIn:async(e,t)=>{c(!0);try{await q.signIn(e,t)}finally{c(!1)}},signInWithGoogle:async()=>{await q.signInWithGoogle()},signOut:async()=>{await q.signOut(),i(null),s(null),r(null)},updateProfile:async e=>{a&&(await q.updateProfile(a.id,e),await m())},refreshProfile:m};return e.jsx(I.Provider,{value:u,children:t})}function T(){const e=d.useContext(I);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e}const k=[{id:1,title:"Bienvenue sur QQUIZ PRODIGY",subtitle:"Le quiz qui te rend accro",description:"Défie tes amis, grimpe les classements et deviens une légende du quiz !",icon:t,gradient:"from-violet-600 to-fuchsia-600",image:"/images/logo/Logo_Principal_Neon.png"},{id:2,title:"20+ Catégories",subtitle:"RAP, Football, Netflix, Manga...",description:"Des questions sur tous les sujets tendance. Trouve ta spécialité et domine !",icon:a,gradient:"from-cyan-500 to-blue-600",features:["RAP & Hip-Hop","Football Africain","K-POP","Manga & Anime","Netflix & Séries"]},{id:3,title:"Affronte le Monde",subtitle:"Matchmaking en temps réel",description:"Trouve un adversaire en quelques secondes et prouve que tu es le meilleur !",icon:i,gradient:"from-orange-500 to-red-600",features:["Mode Solo","Duel 1v1","Classé","Tournois"]},{id:4,title:"Gagne des Récompenses",subtitle:"XP, Niveaux, Badges",description:"Chaque partie te rapproche du sommet. Débloque des achievements exclusifs !",icon:n,gradient:"from-yellow-500 to-orange-500",features:["Système de niveaux","6 Ligues à gravir","Badges exclusifs","Classement mondial"]},{id:5,title:"Prêt à jouer ?",subtitle:"Ton aventure commence maintenant",description:"Choisis un pseudo et lance-toi dans l'arène !",icon:s,gradient:"from-green-500 to-emerald-600",isLast:!0}];function E({onComplete:t}){const[a,i]=d.useState(0),[n,s]=d.useState(""),[g,m]=d.useState(!1),u=k[a],p=u.icon;return e.jsxs("div",{className:"fixed inset-0 z-50 bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex flex-col",children:[e.jsx("div",{className:"absolute top-4 right-4 z-10",children:e.jsx("button",{onClick:()=>{localStorage.setItem("qquiz_onboarding_complete","true"),t()},className:"text-white/50 hover:text-white text-sm font-medium px-4 py-2 rounded-full bg-white/5 hover:bg-white/10 transition-all",children:"Passer"})}),e.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 flex gap-2 z-10",children:k.map((t,i)=>e.jsx("div",{className:"h-2 rounded-full transition-all duration-300 "+(i===a?"w-8 bg-gradient-to-r from-cyan-400 to-fuchsia-400":i<a?"w-2 bg-white/50":"w-2 bg-white/20")},i))}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-6 pt-16",children:e.jsx(o,{mode:"wait",children:e.jsxs(r.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.4,ease:"easeOut"},className:"max-w-md w-full text-center",children:[e.jsx(r.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"mb-8",children:u.image?e.jsx("img",{src:u.image,alt:"QQUIZ PRODIGY",className:"w-32 h-32 mx-auto object-contain"}):e.jsx("div",{className:`w-24 h-24 mx-auto rounded-3xl bg-gradient-to-br ${u.gradient} flex items-center justify-center shadow-2xl`,children:e.jsx(p,{className:"w-12 h-12 text-white"})})}),e.jsx(r.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-3xl sm:text-4xl font-black text-white mb-2",children:u.title}),e.jsx(r.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:`text-lg font-semibold bg-gradient-to-r ${u.gradient} bg-clip-text text-transparent mb-4`,children:u.subtitle}),e.jsx(r.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-white/60 mb-8 text-base sm:text-lg",children:u.description}),u.features&&e.jsx(r.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},className:"flex flex-wrap justify-center gap-2 mb-8",children:u.features.map((t,a)=>e.jsx("span",{className:"px-4 py-2 bg-white/10 rounded-full text-white/80 text-sm font-medium",children:t},a))}),u.isLast&&e.jsxs(r.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},className:"mb-8",children:[e.jsx("input",{type:"text",value:n,onChange:e=>s(e.target.value),placeholder:"Ton pseudo...",maxLength:20,className:"w-full px-6 py-4 bg-white/10 border border-white/20 rounded-2xl text-white text-center text-lg font-medium placeholder-white/40 focus:outline-none focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400/20 transition-all"}),e.jsx("p",{className:"text-white/40 text-sm mt-2",children:"Minimum 3 caractères"})]})]},a)})}),e.jsxs("div",{className:"p-6 pb-8 flex items-center justify-between",children:[e.jsx("button",{onClick:()=>{g||0===a||(m(!0),i(e=>e-1),setTimeout(()=>m(!1),500))},disabled:0===a,className:"p-4 rounded-full transition-all "+(0===a?"opacity-0 pointer-events-none":"bg-white/10 text-white hover:bg-white/20"),children:e.jsx(l,{className:"w-6 h-6"})}),u.isLast?e.jsx(r.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{n.trim().length>=3&&(localStorage.setItem("qquiz_username",n.trim()),localStorage.setItem("qquiz_onboarding_complete","true"),t())},disabled:n.trim().length<3,className:"px-8 py-4 rounded-2xl font-bold text-lg transition-all "+(n.trim().length>=3?"bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-lg shadow-green-500/50":"bg-white/10 text-white/50 cursor-not-allowed"),children:"C'est parti !"}):e.jsxs(r.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{g||(m(!0),a<k.length-1&&i(e=>e+1),setTimeout(()=>m(!1),500))},className:`px-8 py-4 rounded-2xl bg-gradient-to-r ${u.gradient} text-white font-bold text-lg shadow-lg flex items-center gap-2`,children:["Suivant",e.jsx(c,{className:"w-5 h-5"})]}),e.jsx("div",{className:"w-14"})]})]})}const A="/qquizz-mvp1/";function j(e){if(e.startsWith("http://")||e.startsWith("https://"))return e;const t=e.startsWith("/")?e.slice(1):e;return(A.endsWith("/")?A:A+"/")+t}j("/images/logo/Icone_App_Dark.png"),j("/images/logo/Logo_Principal_Neon.png"),j("/images/badges/Badge_Bronze.png"),j("/images/badges/Badge_Argent.png"),j("/images/badges/Badge_Or.png"),j("/images/badges/Badge_Platine.png"),j("/images/badges/Badge_Diamant.png"),j("/images/badges/Badge_Legende.png"),j("/images/categories/Cat_Rap.png"),j("/images/categories/Cat_TikTok.png"),j("/images/categories/Cat_Kpop.png"),j("/images/categories/Cat_FootballAfricain.png"),j("/images/categories/Cat_GamingPro.png"),j("/images/categories/Cat_Youtube.png"),j("/images/categories/Cat_Mode.png"),j("/images/categories/Cat_Afrique.png"),j("/images/categories/Cat_Afrobeats.png"),j("/images/categories/Cat_NBA.png"),j("/images/categories/Cat_Manga.png"),j("/images/categories/Cat_Marvel.png"),j("/images/categories/Cat_Netflix.png"),j("/images/categories/Cat_Celebrites.png"),j("/images/categories/Cat_Crypto.png"),j("/images/categories/Cat_Sport.png"),j("/images/categories/Cat_Science.png"),j("/images/categories/Cat_Culture.png"),j("/images/categories/Cat_Tech.png"),j("/images/categories/Cat_Cinema.png"),j("/images/categories/Cat_Musique.png"),j("/images/categories/Cat_Geographie.png"),j("/images/categories/Cat_Histoire.png"),j("/images/categories/Cat_Football.png"),j("/images/categories/Cat_Jeux_Video.png"),j("/images/questions/bg_rap.png"),j("/images/questions/bg_football.png"),j("/images/questions/bg_manga.png"),j("/images/questions/bg_netflix.png"),j("/images/questions/bg_crypto.png"),j("/images/questions/bg_kpop.png"),j("/images/questions/bg_afrobeats.png"),j("/images/questions/bg_nba.png"),j("/images/questions/bg_marvel.png"),j("/images/questions/bg_gaming.png"),j("/images/questions/bg_tiktok.png"),j("/images/questions/bg_afrique.png"),j("/images/questions/bg_youtube.png"),j("/images/questions/bg_mode.png"),j("/images/questions/bg_celebrites.png");const D=d.lazy(()=>y(()=>import("./BJpOit2h.js"),__vite__mapDeps([0,1,2,3,4]))),z=d.lazy(()=>y(()=>import("./dob00_c7.js"),__vite__mapDeps([5,1,2]))),O=d.lazy(()=>y(()=>import("./CUSgKbuL.js"),__vite__mapDeps([6,1,2]))),L=d.lazy(()=>y(()=>import("./BTfhnbt7.js"),__vite__mapDeps([7,1,2]))),R=d.lazy(()=>y(()=>import("./apEAj9cI.js"),__vite__mapDeps([8,1,2,9,10,4]))),M=d.lazy(()=>y(()=>import("./DrSycPVb.js"),__vite__mapDeps([11,1,2,10]))),S=d.lazy(()=>y(()=>import("./BvKnKUM3.js"),__vite__mapDeps([12,1,2,10]))),V=d.lazy(()=>y(()=>import("./EU5ztAl5.js"),__vite__mapDeps([13,1,2]))),B=d.lazy(()=>y(()=>import("./CzRa-jnO.js"),__vite__mapDeps([14,1,2,3,4]))),G=d.lazy(()=>y(()=>import("./DDF_2Nu7.js"),__vite__mapDeps([15,1,2,3,9,4]))),Z=d.lazy(()=>y(()=>import("./DjzctiWQ.js"),__vite__mapDeps([16,1,2,4])));function F(){return e.jsx("div",{className:"min-h-screen min-h-[100dvh] bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"w-20 h-20 mx-auto mb-4 relative",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-violet-500/30 animate-ping"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-t-violet-500 border-r-fuchsia-500 border-b-cyan-500 border-l-transparent animate-spin"}),e.jsx("img",{src:j("/images/logo/Logo_Principal_Neon.png"),alt:"QQUIZ PRODIGY",className:"absolute inset-2 w-16 h-16 object-contain"})]}),e.jsx("p",{className:"text-white/60 text-sm",children:"Chargement..."})]})})}function J(){const[t,a]=d.useState(!1),[i,n]=d.useState(!0);d.useEffect(()=>{localStorage.getItem("qquiz_onboarding_complete")||a(!0),n(!1)},[]);return i?e.jsx(F,{}):e.jsx(C,{defaultTheme:"dark",children:e.jsx(P,{children:e.jsxs(x,{children:[t&&e.jsx(E,{onComplete:()=>{a(!1)}}),e.jsx(m,{children:e.jsx(d.Suspense,{fallback:e.jsx(F,{}),children:e.jsxs(u,{children:[e.jsx(p,{path:"/",element:e.jsx(D,{})}),e.jsx(p,{path:"/auth",element:e.jsx(B,{})}),e.jsx(p,{path:"/feed",element:e.jsx(G,{})}),e.jsx(p,{path:"/chat",element:e.jsx(z,{})}),e.jsx(p,{path:"/friends",element:e.jsx(O,{})}),e.jsx(p,{path:"/duel",element:e.jsx(L,{})}),e.jsx(p,{path:"/play",element:e.jsx(R,{})}),e.jsx(p,{path:"/quiz",element:e.jsx(R,{})}),e.jsx(p,{path:"/game-mode",element:e.jsx(V,{})}),e.jsx(p,{path:"/leaderboard",element:e.jsx(M,{})}),e.jsx(p,{path:"/profile",element:e.jsx(S,{})}),e.jsx(p,{path:"/settings",element:e.jsx(Z,{})})]})})})]})})})}const U=document.getElementById("root");U&&_.createRoot(U).render(e.jsx(h.StrictMode,{children:e.jsx(J,{})}));export{j as g,N as s,T as u};
